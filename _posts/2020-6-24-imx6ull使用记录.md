---
layout: post
comments: true
categories: imx6ull
---
## imx6ull使用记录


设置交叉编译工具链 临时生效  <br>

$ export ARCH=arm    <br>
$ export CROSS_COMPILE=arm-linux-gnueabihf-   <br>
$ export PATH=$PATH:/home/a/imx6ull/100ask_imx6ull-sdk/ToolChain/gcc-linaro-6.2.1-2016.11-x86_64_arm-linux-gnueabihf/bin  <br>

$ arm-linux-gnueabihf-gcc --version   <br>
$ echo $ARCH
$ echo $CROSS_COMPILE
$ arm-linux-gnueabihf-gcc -v


编译u-boot镜像
不同的开发板对应不同的配置文件，配置文件位于 u-boot源码的configs/ 目录
对于IMX6ULL全功能版，u-boot的编译过程如下(编译uboot前必须先配置好工具链等开发环境)：
book@100ask: ~/100ask_imx6ull-sdk$ cd Uboot-2017.03
book@100ask: ~/100ask_imx6ull-sdk/Uboot-2017.03$ make distclean
book@100ask: ~/100ask_imx6ull-sdk/Uboot-2017.03$ make  mx6ull_14x14_evk_defconfig 
book@100ask: ~/100ask_imx6ull-sdk/Uboot-2017.03$ make

编译完成之后生成u-boot-dtb.imx，可以用于TF卡启动和EMMC启动。为方便学习，建议优先选择从TF卡启动。



4.5	编译Linux Kernel

不同的开发板对应不同的配置文件，配置文件位于内核源码arch/arm/configs/目录。
kernel的编译过程如下（编译内核前需要先配置好工具链等一些环境变量）：
book@100ask:~/100ask_imx6ull-sdk$ cd Linux-4.9.88
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make mrproper
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make 100ask_imx6ull_defconfig
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make zImage  -j4
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/zImage ~/nfs_rootfs
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb  ~/nfs_rootfs
	编译步骤参考如下，编译完成zImage后才可编译设备树文件。
 
	编译完成后生成的文件如下图所示
 
编译完成后，在arch/arm/boot目录下生成zImage内核文件, 在arch/arm/boot/dts目录下生成设备树的二进制文件100ask_imx6ull-14x14.dtb。
把这2个文件复制到/home/book/nfs_rootfs目录下备用，如下图：

