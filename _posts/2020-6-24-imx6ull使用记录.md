---
layout: post
comments: true
categories: imx6ull
---

* content
{:toc}


## imx6ull使用记录


### 设置交叉编译工具链 临时生效  <br>

$ export ARCH=arm    <br>
$ export CROSS_COMPILE=arm-linux-gnueabihf-   <br>
$ export PATH=$PATH:/home/a/imx6ull/100ask_imx6ull-sdk/ToolChain/gcc-linaro-6.2.1-2016.11-x86_64_arm-linux-gnueabihf/bin  <br>

$ arm-linux-gnueabihf-gcc --version   <br>
$ echo $ARCH <br>
$ echo $CROSS_COMPILE <br>
$ arm-linux-gnueabihf-gcc -v <br>


### 编译u-boot镜像 <br>
不同的开发板对应不同的配置文件，配置文件位于 u-boot源码的configs/ 目录 <br>
对于IMX6ULL全功能版，u-boot的编译过程如下(编译uboot前必须先配置好工具链等开发环境)： <br>
book@100ask: ~/100ask_imx6ull-sdk$ cd Uboot-2017.03  <br>
book@100ask: ~/100ask_imx6ull-sdk/Uboot-2017.03$ make distclean  <br>
book@100ask: ~/100ask_imx6ull-sdk/Uboot-2017.03$ make  mx6ull_14x14_evk_defconfig   <br>
book@100ask: ~/100ask_imx6ull-sdk/Uboot-2017.03$ make   <br>

编译完成之后生成u-boot-dtb.imx，可以用于TF卡启动和EMMC启动。为方便学习，建议优先选择从TF卡启动。<br>



### 编译Linux Kernel<br>

不同的开发板对应不同的配置文件，配置文件位于内核源码arch/arm/configs/目录。 <br>
kernel的编译过程如下（编译内核前需要先配置好工具链等一些环境变量）：<br>
book@100ask:~/100ask_imx6ull-sdk$ cd Linux-4.9.88 <br>
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make mrproper <br>
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make 100ask_imx6ull_defconfig <br>
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make zImage  -j4 <br>
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs <br>


book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/zImage ~/nfs_rootfs  <br>
book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb  ~/nfs_rootfs  <br>

把这2个文件复制到/home/book/nfs_rootfs目录下备用<br>

